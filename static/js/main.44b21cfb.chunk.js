(window.webpackJsonpboard=window.webpackJsonpboard||[]).push([[0],{123:function(e,t){},130:function(e,t,r){},133:function(e,t,r){"use strict";r.r(t);var n,a=r(0),i=r.n(a),o=r(17),c=r.n(o),l=(r(94),r(80)),s=r(47),u=r(14),d=r(7),f=r(10),m=r(11),v=r(12),p=r(60),y=r(28);!function(e){e.Wild="Wild",e.Emerald="Emerald",e.Sapphire="Sapphire",e.Ruby="Ruby",e.Diamond="Diamond",e.Onyx="Onyx"}(n||(n={}));var b=Object.freeze(Object.keys(n).filter(function(e){return"string"===typeof e}).map(function(e){return n[e]})),g=Object.freeze(Object.keys(n).filter(function(e){return e!==n.Wild})),h="\n1,E,{A} & {B} & {B},0\n1,E,{A} & {A} & {C} & {C},0\n1,E,{C} & {C} & {C},0\n1,E,{A} & {B} & {C} & {D},0\n1,E,{A} & {C} & {C} & {D} & {D},0\n1,E,{A} & {B} & {C} & {D} & {D},0\n1,E,{D} & {D} & {D} & {D},1\n\n2,E,{D} & {D} & {D} & {A} & {A} & {B} & {B}, 1\n2,E,{E} & {E} & {C} & {C} & {C} & {B} & {B} & {B}, 1\n2,E,{B} & {B} & {B} & {B} & {D} & {A} & {A}, 2\n2,E,{B} & {B} & {B} & {B} & {B}, 2\n2,E,{B} & {B} & {B} & {B} & {B} & {A} & {A} & {A}, 2\n2,E,{E} & {E} & {E} & {E} & {E} & {E}, 3\n\n3,E,{C} & {C} & {C} & {D} & {D} & {D} & {A} & {A} & {A} & {B} & {B} & {B} & {B} & {B},3\n3,E,{A} & {A} & {A} & {A} & {A} & {A} & {A},4\n3,E,{A} & {A} & {A} & {A} & {A} & {A} & {E} & {E} & {E} & {B} & {B} & {B},4\n3,E,{A} & {A} & {A} & {A} & {A} & {A} & {A} & {E} & {E} & {E},5".split(/\n/).filter(function(e){return e&&e.length}).map(function(e){return e.split(",")}).map(function(e){var t=Object(y.a)(e,4);return{level:t[0],resourceType:t[1],cost:t[2],prestigePoints:t[3]}}),E=function(e,t){var r=t.reduce(function(e,t,r){return e[t]=g[r],e},{});return e.map(function(e){var n=e.cost,a=e.level,i=e.prestigePoints,o=e.resourceType;return{cost:k(n,t,r),level:a,prestigePoints:i,resourceType:r[o]}})},k=function(e,t,r){return t.reduce(function(e,t){return e.replace(new RegExp("{".concat(t,"}"),"g"),r[t])},e)},C=function(e){return e.filter(O).map(P)},O=function(e){return e&&!!e.cost&&w(e.level,1,3)&&j(e.resourceType)&&w(e.prestigePoints,0,10)},j=function(e){return Object.keys(n).indexOf(e)>-1},w=function(e,t,r){return n=Number(e),!Number.isNaN(n)&&n>=t&&n<=r;var n},P=function(e,t){var r=e.cost,a=e.level,i=e.prestigePoints,o=e.resourceType;return{id:"".concat(t,"_L").concat(a,"_").concat(o),level:Number(a),resourceType:n[o],cost:A(r),prestigePoints:Number(i)}},A=function(e){return(e||"").split("&").map(function(e){return e.trim()}).reduce(function(e,t){var r=t.endsWith("Card"),n=r?t.substr(0,t.length-"Card".length):t,a=e[r?"cards":"tokens"];return a[n]=(a[n]||0)+1,e},{cards:{},tokens:{}})},D=function(e){e.forEach(function(e){for(var t=0;t<e.visibleCards.length;t++)null==e.visibleCards[t]&&0!==e.stock.length&&(e.visibleCards[t]=e.stock.pop())})},S=function(e){for(var t,r,n=e.length;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e},x=r(15),N=function(){return Object.keys(n).reduce(function(e,t){return e[t]=0,e},{})},T=function(e,t){var r=t&&t.cards||{},a=t&&t.tokens||{},i=e&&e.cards||{},o=e&&e.tokens||{},c=a[n.Wild]||0,l={cards:N(),tokens:N()},s=!0,u=!1,d=void 0;try{for(var f,m=g[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var v=f.value,p=r[v]||0,y=a[v]||0,b=i[v]||0,h=o[v]||0;if(b+h!==0){var E=h;E-=Math.min(E,p);var k=Math.min(E,y);E-=k;var C=Math.min(E,c);(E-=C)>0?l.tokens[v]=-E:(l.tokens[v]=(l.tokens[v]||0)+k,l.tokens[n.Wild]=(l.tokens[n.Wild]||0)+C,c-=C);var O=Math.max(0,b-p);l.cards[v]=(l.cards[v]||0)-O}}}catch(j){u=!0,d=j}finally{try{s||null==m.return||m.return()}finally{if(u)throw d}}return l},B=function(e,t){var r=t?T(e,t):e,n=W(r.cards),a=W(r.tokens);return!(n||a)},W=function(e){return null!=e&&Object.keys(e).some(function(t){return e[t]<0})},M=function(e,t){return Object.keys(t).reduce(function(e,r){return null!=e[r]?e[r]=e[r]+t[r]:e[r]=t[r],e},Object.assign({},e||{}))},I=function(e){var t=e.playedCards;return{tokens:e.tokens,cards:R(t)}},R=function(e){return e.reduce(function(e,t){return e[t.resourceType]=(e[t.resourceType]||0)+1,e},{})},F=function(e){var t=z(e.players,e.currentPlayerId);if(null==t)throw new Error("Couldn't find current player");return t},z=function(e,t){return null==e?null:e.find(function(e){return e.id===t})},L=function(e,t){var r=F(e),n=!0,a=!1,i=void 0;try{for(var o,c=e.availableCards[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value,s=function(e){return e&&e.id===t.id},u=s(l.stock[l.stock.length-1]),d=l.visibleCards.findIndex(s),f=d>-1;if(u)return l.stock.pop(),void r.reservedCards.push(t);if(f)return l.visibleCards[d]=null,void r.reservedCards.push(t)}}catch(m){a=!0,i=m}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}throw new Error("Couldn't find card ".concat(JSON.stringify(t)," in top card of stock piles or visible cards"))},G=r(19),U=function(){function e(t){Object(d.a)(this,e),this.action=t}return Object(G.a)(e,[{key:"hash",value:function(){return JSON.stringify({name:this.__proto__.constructor.name,action:this.action})}}]),e}(),_=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(G.a)(t,[{key:"execute",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=this.action.resources[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.availableTokens[o]=(e.availableTokens[o]||0)-1,F(e).tokens[o]=(F(e).tokens[o]||0)+1}}catch(c){r=!0,n=c}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}}]),t}(U);_.getAvailableMoves=function(e){var t=g.filter(function(t){return e.availableTokens[t]>0}).map(function(e){return n[e]});if(t.length<3)return[];var r=[],a=!0,i=!1,o=void 0;try{for(var c,l=function(){var e=c.value,n=!0,a=!1,i=void 0;try{for(var o,l=function(){var n=o.value,a=!0,i=!1,c=void 0;try{for(var l,s=t.filter(function(t){return t!==e&&t!==n})[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;r.push([e,n,u])}}catch(d){i=!0,c=d}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}},s=t.filter(function(t){return t!==e})[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)l()}catch(u){a=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}},s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0)l()}catch(u){i=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return r.map(function(e){return{move:"collectMultipleResources",args:[e]}})};var V=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(G.a)(t,[{key:"execute",value:function(e){e.availableTokens[this.action.resource]=(e.availableTokens[this.action.resource]||0)-2;var t=F(e);return t.tokens[this.action.resource]=(t.tokens[this.action.resource]||0)+2,e}}]),t}(U);V.getAvailableMoves=function(e){return g.filter(function(t){return e.availableTokens[t]>=2}).map(function(e){return n[e]}).map(function(e){return{move:"collectSingleResource",args:[e]}})};var H=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(G.a)(t,[{key:"execute",value:function(e){var r=this.action.card;if(null==r)throw new Error("Can't purchase an empty card!");var n=F(e),a=T(r.cost,I(n));if(!B(a))throw new Error(t.INSUFFICIENT_FUNDS);var i,o,c=e.availableCards.some(function(e){return e.visibleCards.some(function(e){return e&&e.id===r.id})}),l=n.reservedCards.find(function(e){return e.id===r.id});if(!l&&!c)throw new Error(t.UNAVAILABLE_CARD);return n.tokens=(i=a.tokens,o=n.tokens,Object.keys(i).reduce(function(e,t){return null!=e[t]?e[t]=e[t]-i[t]:e[t]=-i[t],e},Object.assign({},o||{}))),e.availableTokens=M(e.availableTokens,a.tokens),c&&(L(e,r),l=r),n.reservedCards.splice(n.reservedCards.indexOf(l),1),n.playedCards.push(r),n.prestigePoints=(n.prestigePoints||0)+r.prestigePoints,e}}]),t}(U);H.INSUFFICIENT_FUNDS="Player has insufficient funds to purchase this card",H.UNAVAILABLE_CARD="Card is not available to play",H.getAvailableMoves=function(e){var t=e.availableCards.flatMap(function(e){return e.visibleCards}),r=F(e).reservedCards,n=[].concat(Object(x.a)(t),Object(x.a)(r)).filter(function(e){return null!=e}),a=F(e),i={tokens:a.tokens,cards:R(a.playedCards)};return n.filter(function(e){return B(e.cost,i)}).map(function(e){return{move:"purchaseDevelopmentCard",args:[e]}})};var J=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(G.a)(t,[{key:"execute",value:function(e){var t=this.action.card;if(null==t)throw new Error("Can't reserve an empty card!");var r=F(e);return e.availableTokens.Wild>0&&(r.tokens.Wild=(r.tokens.Wild||0)+1,e.availableTokens.Wild=(e.availableTokens.Wild||0)-1),L(e,t),e}}]),t}(U);J.getAvailableMoves=function(e){return F(e).reservedCards.length>=4?[]:e.availableCards.flatMap(function(e){return e.visibleCards}).filter(function(e){return null!=e}).map(function(e){return{move:"reserveDevelopmentCard",args:[e]}})};var Y=function(e,t,r,n){try{return new r(n).execute(e)}catch(a){return console.error(a),e}},$={triggerWin:function(e){return F(e).prestigePoints=15,e},collectMultipleResources:function(e,t,r){return Y(e,0,_,{resources:r})},collectSingleResource:function(e,t,r){return Y(e,0,V,{resource:r})},purchaseDevelopmentCard:function(e,t,r){return Y(e,0,H,{card:r})},reserveDevelopmentCard:function(e,t,r){return Y(e,0,J,{card:r})}};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var K=function(e,t){return{weight:0,checker:function(r){var n=t(r);return this.weight=n*e,this.weight>0}}},Q=function(e){function t(e){return Object(d.a)(this,t),Object(f.a)(this,Object(m.a)(t).call(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{iterations:function(e,t){return 100+2*t.turn},playoutDepth:function(e,t){return 50},objectives:function(e,t,r){if(!r)return{};var n=z(e.players,r);return{winGame:K(Number.POSITIVE_INFINITY,function(e){return z(e.players,r).prestigePoints>=15?1:0}),increasePrestigePoints:K(50,function(e){return z(e.players,r).prestigePoints-n.prestigePoints})}}})))}return Object(v.a)(t,e),t}(p.b),X=Object(p.a)({bot:Q,enumerate:function(e){return[_,V,H,J].flatMap(function(t){return t.getAvailableMoves(e)})}}),Z=r(167),ee=r(164),te=r(168),re=(r(130),r(165)),ne=r(153),ae=Object(ne.a)(re.a)({display:"flex",flexDirection:"column"}),ie=Object(ne.a)(re.a)({display:"flex",flexDirection:"row"}),oe=Object(ne.a)(function(e){var t=e.className;return i.a.createElement("div",{className:t})})({position:"absolute",top:0,left:0,width:"100vw",height:function(e){var t=e.isActive;return"".concat(t?100:0,"vh")},zIndex:1e3}),ce=r(166),le=r(155),se=r(40),ue=r(156),de=r(157),fe=r(158),me=r(159),ve=r(160),pe=r(161),ye=r(162),be=r(163),ge=function(e){var t=e.results,r=e.onClose,n=e.userPlayer;return i.a.createElement(ce.a,{open:!0,onClose:r,"aria-labelledby":"customized-dialog-title"},i.a.createElement(le.a,null,t.winner===n?i.a.createElement(se.a,{variant:"h3"},"YOU WIN!"):i.a.createElement(se.a,{variant:"h3"},"You Lose!")),i.a.createElement(ue.a,{dividers:!0},i.a.createElement(se.a,{gutterBottom:!0,variant:"h4"},"Player Rankings"),i.a.createElement(de.a,null,t.rankings.map(function(e,t){return i.a.createElement(fe.a,{key:e.id,style:{fontWeight:800,color:e===n?"blue":""}},i.a.createElement(me.a,null,i.a.createElement("span",null,t+1)),i.a.createElement(ve.a,{primary:e.name}),i.a.createElement(pe.a,null,e.prestigePoints))}))),i.a.createElement(ye.a,null,i.a.createElement(be.a,{onClick:r,color:"primary"},"New Game")))},he=function(e){var t=e.card,r=e.onSelected,n=e.canSelect;return i.a.createElement("div",{className:"card ".concat(t.id||n?"valid-action":""," ").concat(t.resourceType),itemProp:"card",onClick:function(){return!(!t.id&&!n)&&r(t)}},i.a.createElement("div",{itemProp:"resource","data-value":t.resourceType}),t&&t.prestigePoints>0&&i.a.createElement("div",{itemProp:"prestigePoints","data-value":t.prestigePoints}),i.a.createElement("div",{itemProp:"cost"},t&&t.cost&&b.filter(function(e){return t.cost.tokens[e]>0}).map(function(e){return i.a.createElement("div",{key:e,itemProp:"token"},i.a.createElement("div",{itemProp:"resource","data-value":e}),i.a.createElement("div",{itemProp:"count","data-value":t.cost.tokens[e]}))})))},Ee=function(e){var t=e.availableCards,r=e.selectDevelopmentCard;return i.a.createElement(i.a.Fragment,null,t.map(function(e,t){return i.a.createElement("div",{key:String(t),className:"cardRow"},i.a.createElement("div",{className:"stock card valid-action",onClick:function(){return!!e.stock.length&&r(e.stock[e.stock.length-1])}},i.a.createElement("span",null,e.stock.length)),Array(4).fill(0).map(function(t,r){return e.visibleCards[r]||{id:null}}).map(function(t,n){return i.a.createElement(he,{key:t.id||"".concat(e.level).concat(n),card:t,onSelected:r})}))}))},ke=r(5),Ce=function(e){var t=e.cards,r=g.map(function(e){return{resourceType:e,cards:t.filter(function(t){return t.resourceType===e})}});return i.a.createElement(i.a.Fragment,null,r.map(function(e){var t=e.resourceType,r=e.cards;return i.a.createElement(ae,{key:t,className:Object(ke.a)("cardStack",t,{empty:!r||0===r.length})},r.length)}))},Oe=function(e){var t=e.tokens,r=e.selectToken,n=e.showEmpty,a=void 0===n||n;return i.a.createElement(i.a.Fragment,null,b.map(function(e){return(t[e]||a)&&i.a.createElement("div",{key:e,itemProp:"token",className:Object(ke.a)({empty:0===(t[e]||0)}),onClick:function(){return r&&r(e)}},i.a.createElement("div",{itemProp:"resource","data-value":e}),i.a.createElement("div",{itemProp:"count","data-value":t[e]||0}))}))},je=r(134),we=Object(te.a)({name:{flexGrow:1},player:{},tokens:{fontSize:"0.5rem",fontWeight:"bold"},cards:{marginTop:".1rem",fontSize:"1.5rem",minHeight:"3rem"},reservedCardStack:{bgcolor:"#ccc",position:"relative",fontWeight:600,justifyContent:"center",alignContent:"center"}}),Pe=Object(ee.a)(we),Ae=function(e){var t=e.players,r=e.currentPlayer,n=Pe({});return i.a.createElement(i.a.Fragment,null,t.map(function(e){return i.a.createElement(De,{key:e.id,classes:n,isCurrentPlayer:e===r,player:e})}))},De=Object(je.a)(we)(function(e){var t=e.classes,r=e.isCurrentPlayer,n=e.player;return i.a.createElement(ae,{className:Object(ke.a)(t.player,"player",{active:r}),itemScope:!0,itemType:"urn:x:player",itemID:String(n.id)},i.a.createElement(ie,null,i.a.createElement(re.a,{className:t.name,itemProp:"name"},n.name),i.a.createElement(re.a,{fontWeight:800},n.prestigePoints)),i.a.createElement(ie,{className:t.tokens},i.a.createElement(Oe,{tokens:n.tokens})),i.a.createElement(ie,{className:t.cards},i.a.createElement(ae,{className:Object(ke.a)("cardStack",t.reservedCardStack)},n.reservedCards&&n.reservedCards.length||0),i.a.createElement(Ce,{cards:n.playedCards})))}),Se=Object(ne.a)("h3")({writingMode:"vertical-lr",textOrientation:"upright"}),xe=Object(ne.a)(ie)({flexGrow:1,"& > div:not(:first-child)":{marginLeft:"-3rem"},maxWidth:"15em",padding:"0 0.5rem",overflowY:"auto"}),Ne=function(e){var t=e.isCurrentPlayer,r=e.player,n=e.onPlayReservedCard;return i.a.createElement(ie,{position:"relative",flexGrow:1,className:Object(ke.a)("user-player",{active:t})},i.a.createElement(Se,null,r.name),i.a.createElement(re.a,{className:"prestigePoints",width:"2rem",fontSize:"150%",fontWeight:"800"},r.prestigePoints),i.a.createElement(ie,{flexGrow:1},i.a.createElement(ie,{border:"1px solid #333"},i.a.createElement(ae,{fontSize:"calc(100% + .5rem/6)",alignItems:"center",width:"3rem",padding:"1rem 0"},i.a.createElement(Oe,{tokens:r.tokens})),i.a.createElement(xe,null,r.reservedCards.map(function(e){return i.a.createElement(he,{key:e.id,card:e,onSelected:n})}))),i.a.createElement(ie,{fontSize:"5em"},i.a.createElement(Ce,{cards:r.playedCards}))))},Te=Object(ee.a)(function(){return Object(te.a)({container:{color:"#000",backgroundColor:"#fff",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",fontSize:"calc(100vw/75)",height:"100vh",display:"grid",gridColumnGap:"0.4rem",gridRowGap:"0.4rem",gridTemplateColumns:"auto 3rem calc(25% - 0.4rem)",gridTemplateRows:"calc(75% - 0.4rem) 25%",gridTemplateAreas:'\n        "board      tokens    player-list"\n        "inventory  inventory inventory"'},tokens:{gridArea:"tokens",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",fontSize:"1.9rem","& [itemProp='token'] [itemProp='count']":{fontWeight:900}},board:{gridArea:"board",display:"flex",flexDirection:"column",justifyContent:"space-evenly"},playerList:{display:"flex",flexDirection:"column",alignContent:"center",gridArea:"player-list",backgroundColor:"#fff",padding:"0.4em"},inventory:{gridArea:"inventory",display:"flex"}})}),Be=function(e){var t=e.G,r=t.availableCards,o=t.availableTokens,c=t.currentPlayerId,l=t.players,s=e.ctx.gameover,u=e.playerID,d=e.moves,f=e.step,m=Object(a.useState)(null),v=Object(y.a)(m,2),p=v[0],b=v[1],g=Object(a.useState)([]),h=Object(y.a)(g,2),E=h[0],k=h[1],C=u||l[0].id,O=Object(a.useMemo)(function(){return z(l,c)},[c,l]),j=Object(a.useMemo)(function(){return z(l,C)},[l,C]),w=Object(a.useMemo)(function(){return l.filter(function(e){return e.id!==C})},[l,C]),P=C===c;Object(a.useEffect)(function(){k([]),P||!O||O.isHuman||f()},[f,O,P]);var A=Object(a.useCallback)(function(e){if(e!==n.Wild){var t=E;E.indexOf(e)>-1?1===E.length?(d.collectSingleResource(e),t=[]):console.debug("Ignoring invalid duplicate selection of ".concat(e)):t=[].concat(Object(x.a)(E),[e]),3===t.length&&(d.collectMultipleResources(t),t=[]),k(t)}else console.debug("Ignoring invalid selection of a wild token")},[d,E]),D=Object(a.useCallback)(function(e){var t=I(O);B(e.cost,t)?d.purchaseDevelopmentCard(e):d.reserveDevelopmentCard(e)},[O,d]),S=Object(a.useCallback)(function(e){var t=I(O);B(e.cost,t)?d.purchaseDevelopmentCard(e):N("Not enough resources to purchase this card!")},[O,d]),N=function(e){b(e)};return i.a.createElement(i.a.Fragment,null,s&&i.a.createElement(ge,{onClose:function(){return window.location.reload()},results:s,userPlayer:j}),i.a.createElement(We,{message:p}),i.a.createElement(oe,{isActive:!P}),i.a.createElement(Me,{availableCards:r,availableTokens:o,currentPlayer:O,otherPlayers:w,playReservedCard:S,selectDevelopmentCard:D,selectToken:A,userPlayer:j}))},We=function(e){var t=e.message,r=Object(a.useState)(!1),n=Object(y.a)(r,2),o=n[0],c=n[1];return Object(a.useEffect)(function(){return c(t&&t.length>0)},[t]),i.a.createElement(Z.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:o,onClose:function(){return c(!1)},autoHideDuration:2e3,message:t})},Me=function(e){var t=e.availableCards,r=e.availableTokens,n=e.currentPlayer,a=e.otherPlayers,o=e.playReservedCard,c=e.selectDevelopmentCard,l=e.selectToken,s=e.userPlayer,u=Te({});return i.a.createElement("div",{id:"container",className:u.container},i.a.createElement("div",{id:"tokens",className:u.tokens},i.a.createElement(Oe,{tokens:r,selectToken:l})),i.a.createElement("div",{id:"board",className:u.board},i.a.createElement(Ee,{availableCards:t,selectDevelopmentCard:c})),i.a.createElement("div",{id:"player-list",className:u.playerList},i.a.createElement(Ae,{players:a,currentPlayer:n})),i.a.createElement("div",{id:"inventory",className:u.inventory},s&&i.a.createElement(Ne,{isCurrentPlayer:s.id===n.id,player:s,onPlayReservedCard:o})))},Ie=Array(20).fill(0).map(function e(){var t=Array(5).fill(0).map(function(){return Math.random()>.5?0:4+Math.floor(3*Math.random())});if(0===t.reduce(function(e,t){return e+t},0))return e();var r=Object(y.a)(t,5),n=r[0],a=r[1],i=r[2],o=r[3],c=r[4],l=Math.max(4,Math.floor(6*Math.random()));return{name:"Patron #".concat(Math.random()),cost:{cards:{Diamond:c,Emerald:n,Onyx:o,Ruby:a,Sapphire:i}},prestigePoints:l}}),Re={setup:function(e){var t=e.numPlayers,r=Array(t).fill(0).map(function(e,t){return{id:String(t),name:"Player ".concat(t+1),isHuman:!1,patrons:[],playedCards:[],tokens:{},prestigePoints:0,reservedCards:[],totalResources:{}}}),n=function(){var e=[["A","B","C","D","E"],["B","C","D","E","A"],["C","D","E","A","B"],["D","E","A","B","C"],["E","A","B","C","D"]].flatMap(function(e){return E(h,e)});return C(e)}();S(n);var a=[{level:3,stock:n.filter(function(e){return 3===e.level}),visibleCards:Array(4).fill(null)},{level:2,stock:n.filter(function(e){return 2===e.level}),visibleCards:Array(4).fill(null)},{level:1,stock:n.filter(function(e){return 1===e.level}),visibleCards:Array(4).fill(null)}];D(a);var i=S(Ie),o=Array(t+1).fill(null).map(function(){return i.pop()}),c=7-(4===t?0:2+t),l={Wild:7,Emerald:c,Onyx:c,Ruby:c,Sapphire:c,Diamond:c};return console.log(o),{availableCards:a,availableTokens:l,players:r,patrons:o}},moves:$,turn:{moveLimit:1,onBegin:function(e,t){e.currentPlayerId=t.currentPlayer},onEnd:function(e,t){D(e.availableCards)}},endIf:function(e){var t=e.players.filter(function(e){return e.prestigePoints>=15});if(t.length){var r=Object(x.a)(e.players).sort(function(e,t){return t.prestigePoints-e.prestigePoints});return{winner:t[0],rankings:r}}}},Fe=Object(s.a)(function(e){var t=e.settings,r=Object(l.a)({game:Re,board:Be,ai:X,numPlayers:t.numberOfPlayers,multiplayer:t.multiplayer,debug:!1});return i.a.createElement(r,null)}),ze=Object(s.a)(function(){return i.a.createElement(Fe,{settings:{debug:!1,numberOfPlayers:4,musicVolume:0,sfxVolume:0,players:[]}})});ze.displayName="SplendidGame";var Le=ze,Ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ue(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(function(){return i.a.createElement(Le,null)},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Splendid",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Splendid","/service-worker.js");Ge?(!function(e,t){fetch(e).then(function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ue(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ue(t,e)})}}()},89:function(e,t,r){e.exports=r(133)},94:function(e,t,r){}},[[89,1,2]]]);
//# sourceMappingURL=main.44b21cfb.chunk.js.map